import{_ as l,c as t,j as h,G as i,w as e,ag as k,B as p,o as r}from"./chunks/framework.BDI6Vt0-.js";const b=JSON.parse('{"title":"Google ColaboratoryでNimを実行する","description":"Google ColaboratoryでNimが扱えるそうなので，慣れるために適当な関数を作って慣れてみようと思います．","frontmatter":{"title":"Google ColaboratoryでNimを実行する","description":"Google ColaboratoryでNimが扱えるそうなので，慣れるために適当な関数を作って慣れてみようと思います．","date":"2021-05-07T00:00:00.000Z","category":["Nim"],"tags":["Nim","Google_Colaboratory"]},"headers":[],"relativePath":"posts/nimnim_01.md","filePath":"posts/nimnim_01.md"}'),o={name:"posts/nimnim_01.md"};function d(g,s,c,E,y,m){const a=p("CallInArticleAdsense"),n=p("ClientOnly");return r(),t("div",null,[s[0]||(s[0]=h("p",null,"Google ColaboratoryでNimが扱えるそうなので，慣れるために適当な関数を作って慣れてみようと思います．",-1)),i(n,null,{default:e(()=>[i(a)]),_:1}),s[1]||(s[1]=k(`<blockquote><p>Google Colaboratory（以下Google Colab）は、Google社が無料で提供している機械学習の教育や研究用の開発環境です。開発環境はJupyter Notebookに似たインターフェースを持ち、Pythonの主要なライブラリがプリインストールされています。<br> 引用元：<a href="https://interface.cqpub.co.jp/ail01/" target="_blank" rel="noreferrer">Google Colabの使い方</a></p></blockquote><h2 id="google-colabのファイル構成" tabindex="-1">Google Colabのファイル構成 <a class="header-anchor" href="#google-colabのファイル構成" aria-label="Permalink to &quot;Google Colabのファイル構成&quot;">​</a></h2><p>プロジェクトディレクトリはfirst_nimとしています．度々，省略しています．</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>first_nim</span></span>
<span class="line"><span>├── Nim4Colab_first.ipynb</span></span>
<span class="line"><span>├── reverse.nim </span></span>
<span class="line"><span>└── reverse</span></span></code></pre></div><h2 id="google-driveと連携" tabindex="-1">Google Driveと連携 <a class="header-anchor" href="#google-driveと連携" aria-label="Permalink to &quot;Google Driveと連携&quot;">​</a></h2><p>Google ColabとGoogle Driveを連携させ，作業ディレクトリ(ここではfirst_nim)に移動します．<br></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Google ColabとGoogle Driveを連携</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> google.colab </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> drive</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">drive.mount(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/content/drive&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ディレクトリの移動</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">content</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">drive</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">My\\ </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">Drive/Nimnim/first_nim</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ls</span></span></code></pre></div><h2 id="nim4colabのインストール" tabindex="-1">nim4colabのインストール <a class="header-anchor" href="#nim4colabのインストール" aria-label="Permalink to &quot;nim4colabのインストール&quot;">​</a></h2><p>Google Colab で nimコマンドを使用するためのライブラリであるnim4colabをインストールします．</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pip install git</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">https:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">//</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">github.com</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">demotomohiro</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nim4colab.git</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">load_ext nim4colab</span></span></code></pre></div><h2 id="nimのコードを作成" tabindex="-1">nimのコードを作成 <a class="header-anchor" href="#nimのコードを作成" aria-label="Permalink to &quot;nimのコードを作成&quot;">​</a></h2><p>文字列を返すコードをお試しで作成します．</p><p>このコードで現時点で解読できていることを以下に示します．</p><ul><li>%%writefile ＊＊＊.nimで出力するファイル名を指定します．</li><li>「proc reverse(s: string): string」は，Pythonでいう「def reverse(s)」のようです．</li><li>「echo &quot;Reversed: &quot;, reverse(str1)」は，Pythonでいう「print(&quot;Reversed: &quot;, reverse(str1))」のようです．</li><li>「high(s)」は，Pythonでいう「len(s)」のようです．</li><li>「for i in countdown(12, 0)」は「12, 11, 10,・・1, 0」と出力される．</li><li>「for i in countup(0, 12)」は「0, 1, 2,・・11, 12」と出力される．Pythonでは「for i in range(0, 12)」となる．</li><li>「result = &quot;&quot;」 で「result.add &quot;a&quot; 」は，5回実行されると「result = &quot;aaaaa&quot;」となる．Pythonでは「result =+ &quot;a&quot;」となる．</li></ul><div class="language-nim vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nim</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># セル内のreverse関数をreverse.minとして書き出し</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">writefile </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">reverse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nim</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proc</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reverse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 暗黙的なresult変数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  echo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> high</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> countdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">high</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">add </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s[i]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proc</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> not_reverse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 暗黙的なresult変数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  echo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> high</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> countup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">high</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s))</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">add </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s[i]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Reverse This!&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Reversed: &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">reverse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str1)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;------------------------------&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Not Reversed: &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">not_reverse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str1)</span></span></code></pre></div><h2 id="nimのコードの実行" tabindex="-1">nimのコードの実行 <a class="header-anchor" href="#nimのコードの実行" aria-label="Permalink to &quot;nimのコードの実行&quot;">​</a></h2><p>作成したnimファイルは「nim complie –run reverse.nim」or 「nim c -r reverse.nim」で実行できます．</p><p>-d:release を追記すると，デバック情報が書き込まれないので軽くなるようです．</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nim c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r reverse.nim</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># %nim c -d:release reverse.nim</span></span></code></pre></div><p>出力は以下のようになる．</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Hint: used config file &#39;/root/nim-stable/nim/config/nim.cfg&#39; [Conf]</span></span>
<span class="line"><span>Hint: used config file &#39;/root/nim-stable/nim/config/config.nims&#39; [Conf]</span></span>
<span class="line"><span>....CC: reverse.nim</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Hint:  [Link]</span></span>
<span class="line"><span>Hint: 22434 lines; 0.394s; 25.59MiB peakmem; Debug build; proj: /content/drive/My Drive/Nimnim/first_nim/reverse.nim; out: /content/drive/My Drive/Nimnim/first_nim/reverse [SuccessX]</span></span>
<span class="line"><span>Hint: &#39;/content/drive/My Drive/Nimnim/first_nim/reverse&#39;  [Exe</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>0</span></span>
<span class="line"><span>Reversed: !sihT esreveR</span></span>
<span class="line"><span>------------------------------</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>0</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>Not Reversed: Reverse This!</span></span></code></pre></div><h2 id="まとめ" tabindex="-1">まとめ <a class="header-anchor" href="#まとめ" aria-label="Permalink to &quot;まとめ&quot;">​</a></h2><p>Nimに慣れるために適当な関数を作成してみました．</p><p>次は，学習しやすいようにNotebook風に実行できるようにします．</p><h2 id="参考サイト" tabindex="-1">参考サイト <a class="header-anchor" href="#参考サイト" aria-label="Permalink to &quot;参考サイト&quot;">​</a></h2><p><a href="https://agency-star.co.jp/column/nim/" target="_blank" rel="noreferrer">Nimの特徴や使い方をわかりやすく解説！</a></p><p><a href="https://qiita.com/k4saNova/items/5bb67d1cb40ba90431af" target="_blank" rel="noreferrer">Nim初心者が始めるNimとnimpy</a></p><p><a href="https://medium.com/statch/speeding-up-python-code-with-nim-ec205a8a5d9c" target="_blank" rel="noreferrer">Speeding up Python code with Nim</a></p><p><a href="https://zenn.dev/megane_otoko/articles/029_nim_for_python" target="_blank" rel="noreferrer">Nimを組み込んでPythonを高速化してみた</a></p><p><a href="https://qiita.com/rigani/items/6e87c7cee6903ed65ed2" target="_blank" rel="noreferrer">至高の言語、Nimを始めるエンジニアへ</a></p><p><a href="https://nim-lang.org/docs/nimc.html" target="_blank" rel="noreferrer">Nim Compiler User Guide</a></p><p><a href="https://cpprefjp.github.io/lang/cpp11/thread_local_storage.html" target="_blank" rel="noreferrer">スレッドローカルストレージ</a></p>`,33)),i(n,null,{default:e(()=>[i(a)]),_:1})])}const F=l(o,[["render",d]]);export{b as __pageData,F as default};

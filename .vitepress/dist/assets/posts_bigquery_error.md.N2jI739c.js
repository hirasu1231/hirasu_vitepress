import{_ as l,c as p,j as r,G as t,w as a,ag as o,B as n,o as h}from"./chunks/framework.BDI6Vt0-.js";const u=JSON.parse('{"title":"エラーメッセージ「TypeError： Object of type int64 is not JSON serializable」","description":"エラーメッセージ「TypeError： Object of type int64 is not JSON serializable」に対応します","frontmatter":{"title":"エラーメッセージ「TypeError： Object of type int64 is not JSON serializable」","description":"エラーメッセージ「TypeError： Object of type int64 is not JSON serializable」に対応します","date":"2023-1-20","category":["Python"],"tags":["Python","error","GCP","GoogleBigQuery"]},"headers":[],"relativePath":"posts/bigquery_error.md","filePath":"posts/bigquery_error.md"}'),d={name:"posts/bigquery_error.md"};function c(k,s,b,y,g,E){const i=n("CallInArticleAdsense"),e=n("ClientOnly");return h(),p("div",null,[s[0]||(s[0]=r("p",null,"エラーメッセージ「TypeError： Object of type int64 is not JSON serializable」に対応します。",-1)),t(e,null,{default:a(()=>[t(i)]),_:1}),s[1]||(s[1]=o(`<h2 id="エラー-typeerror-object-of-type-int64-is-not-json-serializable" tabindex="-1">エラー：TypeError: Object of type int64 is not JSON serializable <a class="header-anchor" href="#エラー-typeerror-object-of-type-int64-is-not-json-serializable" aria-label="Permalink to &quot;エラー：TypeError: Object of type int64 is not JSON serializable&quot;">​</a></h2><p><strong>エラーメッセージ</strong></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># DataFrameを投入</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bq_client.insert_rows_from_dataframe(insert_table_info, insert_df)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># TypeError: Object of type int64 is not JSON serializable</span></span></code></pre></div><p><strong>insert_dfのtype</strong> columns type 0 date object 1 id Int64</p><p>Int64は欠損値を含む整数型で、int64は欠損値を含めない整数型です。</p><p>BQに入力する際は、Int64をint64に変更すると上手くいく。</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">insert_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> insert_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].astype(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;int&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># columns	type</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 0	date	object</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1	id	int64</span></span></code></pre></div><p><a href="https://qiita.com/hoto17296/items/b6c90db4b9bcdb7b6d78" target="_blank" rel="noreferrer">Pandas で欠損値を含む整数型を扱う</a></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataset.table(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;merge_ble_table&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bq_client.delete_table(table)</span></span></code></pre></div><h2 id="参考サイト" tabindex="-1">参考サイト <a class="header-anchor" href="#参考サイト" aria-label="Permalink to &quot;参考サイト&quot;">​</a></h2><p><a href="https://qiita.com/hoto17296/items/b6c90db4b9bcdb7b6d78" target="_blank" rel="noreferrer">Pandas で欠損値を含む整数型を扱う</a></p>`,11)),t(e,null,{default:a(()=>[t(i)]),_:1})])}const f=l(d,[["render",c]]);export{u as __pageData,f as default};
